{% extends 'base.html.twig' %}

{% block body %}
    <h2>Nouvelle opération</h2>

    {{ form_start(form) }}

    <div class="form-group">
        {{ form_widget(form.date) }}
        {{ form_errors(form.date) }}
    </div>
    <div class="form-group">
        {{ form_widget(form.description, {'attr': {'placeholder': 'description', 'autofocus': null}} ) }}
        {{ form_errors(form.description) }}
    </div>
    <div class="form-group">
        {{ form_widget(form.category, {'attr': {'placeholder': 'catégorie'}} ) }}
        {{ form_errors(form.category) }}
    </div>
    <div class="form-group small">
        Dans la colonne dépense, indiquez les dépenses engagées par chacun des participants de cette opération.<br>
        Dans la colonne part, indiquez le nombre de parts dues par chaque participant. A la place des parts, vous
        pouvez indiquer les sommes exactes en euros.
    </div>
    <div class="form-group row">
        <div class="col-4">
        </div>
        <div class="col-5">
            Dépense
        </div>
        <div class="col-3">
            Part
        </div>
    </div>
    {% for expense in form.expenses %}
        <div class="form-group row">
            <div class="col-form-label col-4">
                {{ form_label(expense.expense) }}
            </div>
            <div class="col-5">
                {{ form_widget(expense.expense) }}
            </div>
            <div class="col-3">
                {{ form_widget(expense.payment) }}
            </div>
        </div>
    {% endfor %}
    <div class="form-group row">
        {% for expense in form.expenses %}
            <div class="col-12">
                {{ form_errors(expense.payment) }}
            </div>
        {% endfor %}
    </div>
    <div class="row">
        <div class="col-6">
            <a class="btn btn-block btn-danger btn-lg" href="{{ path("operation_list", {'eventId': eventId}) }}"
               role="button">Cancel</a>
        </div>
        <div class="col-6">
            <button type="submit" class="btn btn-block btn-success btn-lg">Save</button>
        </div>
    </div>
    {{ form_end(form) }}

{% endblock body %}
